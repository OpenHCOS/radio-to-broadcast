<html>

<head>
    <title>plotly.js histogram example 1</title>
</head>

<body>
    <div id="app">
        <h3>
            <a href="https://www.thenewslens.com/article/95282">居服員平均42歲以上，年輕人不願加入「長照行列」的五大原因 - The News Lens 關鍵評論網</a>
        </h3>
        <h3>
            <a href="https://data.gov.tw/datasets/search?qs=%E7%85%A7%E9%A1%A7%E6%9C%8D%E5%8B%99%E5%93%A1">查詢資料集: 照顧服務員 | 政府資料開放平臺</a>
        </h3>
        <h3></h3>
        <h1>{{msg}}</h1>
        <div id="myChart1" style="max-width: 600px;"></div>
        <div id="myChart2" style="max-width: 600px;"></div>
    </div>
    <!-- Load TensorFlow.js -->
    <script src="https://cdn.jsdelivr.net/npm/vue"></script>
    <script src="https://d3js.org/d3.v5.min.js"></script>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <script>

        function getRandomNormal(size, expectedValue, standardDeviation, offset) {
            const r = [];
            for (i = 0; i < size; i++) {
                r.push(d3.randomNormal(expectedValue, standardDeviation)() + offset)
            }
            return r;
        }

        window.app = new Vue({
            el: "#app",
            data() {
                return {
                    msg: 'ploylt histogram example 1',
                    data1: getRandomNormal(1000,25,8, 20),
                    data2: getRandomNormal(1000,15,9, 20)
                }
            },

            mounted() {
                this.renderChart();
            },

            methods: {
                renderChart() {
                    const instance = this
                    console.log(instance.data1)
                    console.log(instance.data2)
                    var layout = {
                        bargap: 0.05,
                        bargroupgap: 0.2,
                        title: "Result",
                        xaxis: { title: "Age",  range:[0,110]},
                        yaxis: { title: "Count" }
                    };
                    Plotly.newPlot('myChart1', [{
                        x: instance.data1,
                        type: 'histogram',
                    }], layout);
                    Plotly.newPlot('myChart2', [{
                        x: instance.data2,
                        type: 'histogram',
                    }], layout);

                }
            }
        })
    </script>
</body>

</html>